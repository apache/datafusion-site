<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apache Arrow DataFusion 5.0.0 Release - Apache DataFusion Blog</title>
<link href="/css/bootstrap.min.css" rel="stylesheet">
<link href="/css/fontawesome.all.min.css" rel="stylesheet">
<link href="/css/headerlink.css" rel="stylesheet">
<link href="/highlight/default.min.css" rel="stylesheet">
<script src="/highlight/highlight.js"></script>
<script>hljs.highlightAll();</script>  </head>
  <body class="d-flex flex-column h-100">
  <main class="flex-shrink-0">
<!-- nav bar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark" aria-label="Fifth navbar example">
    <div class="container-fluid">
        <a class="navbar-brand" href="/"><img src="/images/logo_original4x.png" style="height: 32px;"/> Apache DataFusion Blog</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarADP" aria-controls="navbarADP" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarADP">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link" href="/about.html">About</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/blog/feed.xml">RSS</a>
                </li>
            </ul>
        </div>
    </div>
</nav>    


<!-- page contents -->
<div id="contents">
    <div class="bg-white p-5 rounded">
        <div class="col-sm-8 mx-auto">
          <h1>
              Apache Arrow DataFusion 5.0.0 Release
          </h1>
              <p>Posted on: Wed 18 August 2021 by pmc</p>
              <!--
{% comment %}
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements.  See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to you under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
{% endcomment %}
-->
<p>The Apache Arrow team is pleased to announce the DataFusion 5.0.0 release. This covers 4 months of development work 
and includes 211 commits from the following 31 distinct contributors.</p>
<div class="codehilite"><pre><span></span><code>$ git shortlog -sn <span class="m">4</span>.0.0..5.0.0 datafusion datafusion-cli datafusion-examples
    <span class="m">61</span>  Jiayu Liu
    <span class="m">47</span>  Andrew Lamb
    <span class="m">27</span>  Dani&euml;l Heres
    <span class="m">13</span>  QP Hou
    <span class="m">13</span>  Andy Grove
     <span class="m">4</span>  Javier Goday
     <span class="m">4</span>  sathis
     <span class="m">3</span>  Ruan Pearce-Authers
     <span class="m">3</span>  Raphael Taylor-Davies
     <span class="m">3</span>  Jorge Leitao
     <span class="m">3</span>  Cui Wenzheng
     <span class="m">3</span>  Mike Seddon
     <span class="m">3</span>  Edd Robinson
     <span class="m">2</span>  思维
     <span class="m">2</span>  Liang-Chi Hsieh
     <span class="m">2</span>  Michael Lu
     <span class="m">2</span>  Parth Sarthy
     <span class="m">2</span>  Patrick More
     <span class="m">2</span>  Rich
     <span class="m">1</span>  Charlie Evans
     <span class="m">1</span>  Gang Liao
     <span class="m">1</span>  Agata Naomichi
     <span class="m">1</span>  Ritchie Vink
     <span class="m">1</span>  Evan Chan
     <span class="m">1</span>  Ruihang Xia
     <span class="m">1</span>  Todd Treece
     <span class="m">1</span>  Yichen Wang
     <span class="m">1</span>  baishen
     <span class="m">1</span>  Nga Tran
     <span class="m">1</span>  rdettai
     <span class="m">1</span>  Marco Neumann
</code></pre></div>
<!--
$ git log --pretty=oneline 4.0.0..5.0.0 datafusion datafusion-cli datafusion-examples | wc -l
     211
-->
<p>The release notes below are not exhaustive and only expose selected highlights of the release. Many other bug fixes 
and improvements have been made: we refer you to the complete 
<a href="https://github.com/apache/arrow-datafusion/blob/5.0.0/datafusion/CHANGELOG.md">changelog</a>.</p>
<h1>Performance</h1>
<p>There have been numerous performance improvements in this release. The following chart shows the relative 
performance of individual TPC-H queries compared to the previous release.</p>
<p><i>TPC-H @ scale factor 100, in parquet format. Concurrency 24.</i></p>
<p><img src="../images/2021-08-18-datafusion500perf.png"/></p>
<p>We also extended support for more TPC-H queries: q7, q8, q9 and q13 are running successfully in DataFusion 5.0.</p>
<h1>New Features</h1>
<ul>
<li>Initial support for SQL-99 Analytics (WINDOW functions)</li>
<li>Improved JOIN support: cross join, semi-join, anti join, and fixes to null handling</li>
<li>Improved EXPLAIN support</li>
<li>Initial implementation of metrics in the physical plan</li>
<li>Support for SELECT DISTINCT</li>
<li>Support for Json and NDJson formatted inputs</li>
<li>Query column with relations</li>
<li>Added more datetime related functions: <code>now</code>, <code>date_trunc</code>, <code>to_timestamp_millis</code>, <code>to_timestamp_micros</code>, <code>to_timestamp_seconds</code></li>
<li>Streaming Dataframe.collect</li>
<li>Support table column aliases</li>
<li>Answer count(*), min() and max() queries using only statistics</li>
<li>Non-equi-join filters in JOIN conditions</li>
<li>Modulus operation</li>
<li>Support group by column positions</li>
<li>Added constant folding query optimizer</li>
<li>Hash partitioned aggregation</li>
<li>Added <code>random</code> SQL function</li>
<li>Implemented count distinct for floats and dictionary types</li>
<li>Re-exported arrow and parquet crates in Datafusion</li>
<li>General row group pruning logic that&rsquo;s agnostic to storage format</li>
</ul>
<h1>How to Get Involved</h1>
<p>If you are interested in contributing to DataFusion, we would love to have you! You 
can help by trying out DataFusion on some of your own data and projects and filing bug reports and helping to 
improve the documentation, or contribute to the documentation, tests or code. A list of open issues suitable for 
beginners is <a href="https://github.com/apache/arrow-datafusion/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22">here</a> 
and the full list is <a href="https://github.com/apache/arrow-datafusion/issues">here</a>.</p>
        </div>
      </div>
    </div>    
    <!-- footer -->
    <div class="row">
      <div class="large-12 medium-12 columns">
        <p style="font-style: italic; font-size: 0.8rem; text-align: center;">
          Copyright 2024, <a href="https://www.apache.org/">The Apache Software Foundation</a>, Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.<br/>
          Apache&reg; and the Apache feather logo are trademarks of The Apache Software Foundation.
        </p>
      </div>
    </div>
    <script src="/js/bootstrap.bundle.min.js"></script>  </main>
  </body>
</html>
