<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apache Arrow DataFusion 6.0.0 Release - Apache DataFusion Blog</title>
<link href="/css/bootstrap.min.css" rel="stylesheet">
<link href="/css/fontawesome.all.min.css" rel="stylesheet">
<link href="/css/headerlink.css" rel="stylesheet">
<link href="/highlight/default.min.css" rel="stylesheet">
<script src="/highlight/highlight.js"></script>
<script>hljs.highlightAll();</script>  </head>
  <body class="d-flex flex-column h-100">
  <main class="flex-shrink-0">
<!-- nav bar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark" aria-label="Fifth navbar example">
    <div class="container-fluid">
        <a class="navbar-brand" href="/"><img src="/images/logo_original4x.png" style="height: 32px;"/> Apache DataFusion Blog</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarADP" aria-controls="navbarADP" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarADP">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link" href="/about.html">About</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/blog/feed.xml">RSS</a>
                </li>
            </ul>
        </div>
    </div>
</nav>    


<!-- page contents -->
<div id="contents">
    <div class="bg-white p-5 rounded">
        <div class="col-sm-8 mx-auto">
          <h1>
              Apache Arrow DataFusion 6.0.0 Release
          </h1>
              <p>Posted on: Fri 19 November 2021 by pmc</p>
              <!--
{% comment %}
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements.  See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to you under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
{% endcomment %}
-->
<h1>Introduction</h1>
<p><a href="https://arrow.apache.org/datafusion/">DataFusion</a> is an embedded
query engine which leverages the unique features of
<a href="https://www.rust-lang.org/">Rust</a> and <a href="https://arrow.apache.org/">Apache
Arrow</a> to provide a system that is high
performance, easy to connect, easy to embed, and high quality.</p>
<p>The Apache Arrow team is pleased to announce the DataFusion 6.0.0 release. This covers 4 months of development work
and includes 134 commits from the following 28 distinct contributors.</p>
<!--
git log --pretty=oneline 5.0.0..6.0.0 datafusion datafusion-cli datafusion-examples | wc -l
     134

git shortlog -sn 5.0.0..6.0.0 datafusion datafusion-cli datafusion-examples | wc -l
      29

      Carlos and xudong963 are same individual
-->
<div class="codehilite"><pre><span></span><code><span class="err">    28  Andrew Lamb</span>
<span class="err">    26  Jiayu Liu</span>
<span class="err">    13  xudong963</span>
<span class="err">     9  rdettai</span>
<span class="err">     9  QP Hou</span>
<span class="err">     6  Matthew Turner</span>
<span class="err">     5  Dani&euml;l Heres</span>
<span class="err">     4  Guillaume Balaine</span>
<span class="err">     3  Francis Du</span>
<span class="err">     3  Marco Neumann</span>
<span class="err">     3  Jon Mease</span>
<span class="err">     3  Nga Tran</span>
<span class="err">     2  Yijie Shen</span>
<span class="err">     2  Ruihang Xia</span>
<span class="err">     2  Liang-Chi Hsieh</span>
<span class="err">     2  baishen</span>
<span class="err">     2  Andy Grove</span>
<span class="err">     2  Jason Tianyi Wang</span>
<span class="err">     1  Nan Zhu</span>
<span class="err">     1  Antoine Wendlinger</span>
<span class="err">     1  Kriszti&aacute;n Sz&udblac;cs</span>
<span class="err">     1  Mike Seddon</span>
<span class="err">     1  Conner Murphy</span>
<span class="err">     1  Patrick More</span>
<span class="err">     1  Taehoon Moon</span>
<span class="err">     1  Tiphaine Ruy</span>
<span class="err">     1  adsharma</span>
<span class="err">     1  lichuan6</span>
</code></pre></div>
<p>The release notes below are not exhaustive and only expose selected highlights of the release. Many other bug fixes
and improvements have been made: we refer you to the complete
<a href="https://github.com/apache/arrow-datafusion/blob/6.0.0/datafusion/CHANGELOG.md">changelog</a>.</p>
<h1>New Website</h1>
<p>Befitting a growing project, DataFusion now has its
<a href="https://arrow.apache.org/datafusion/">own website</a> hosted as part of the
main <a href="https://arrow.apache.org">Apache Arrow Website</a></p>
<h1>Roadmap</h1>
<p>The community worked to gather their thoughts about where we are
taking DataFusion into a public
<a href="https://arrow.apache.org/datafusion/specification/roadmap.html">Roadmap</a>
for the first time</p>
<h1>New Features</h1>
<ul>
<li>Runtime operator metrics collection framework</li>
<li>Object store abstraction for unified access to local or remote storage</li>
<li>Hive style table partitioning support, for Parquet, CSV, Avro and Json files</li>
<li>DataFrame API support for: <code>except</code>, <code>intersect</code>, <code>show</code>, <code>limit</code> and window functions</li>
<li>SQL</li>
<li><code>EXPLAIN ANALYZE</code> with runtime metrics</li>
<li><code>trim ( [ LEADING | TRAILING | BOTH ] [ FROM ] string text [, characters text ] )</code> syntax</li>
<li>Postgres style regular expression matching operators <code>~</code>, <code>~*</code>, <code>!~</code>, and <code>!~*</code></li>
<li>SQL set operators <code>UNION</code>, <code>INTERSECT</code>, and <code>EXCEPT</code></li>
<li><code>cume_dist</code>, <code>percent_rank</code> window functions</li>
<li><code>digest</code>, <code>blake2s</code>, <code>blake2b</code>, <code>blake3</code> crypto functions</li>
<li>HyperLogLog based <code>approx_distinct</code></li>
<li><code>is distinct from</code> and <code>is not distinct from</code></li>
<li><code>CREATE TABLE AS SELECT</code></li>
<li>Accessing elements of nested <code>Struct</code> and <code>List</code> columns (e.g. <code>SELECT struct_column['field_name'], array_column[0] FROM ...</code>)</li>
<li>Boolean expressions in <code>CASE</code> statement</li>
<li><code>DROP TABLE</code></li>
<li><code>VALUES</code> List</li>
<li>Postgres regex match operators</li>
<li>Support for Avro format</li>
<li>Support for <code>ScalarValue::Struct</code></li>
<li>Automatic schema inference for CSV files</li>
<li>Better interactive editing support in <code>datafusion-cli</code> as well as <code>psql</code> style commands such as <code>\d</code>, <code>\?</code>, and <code>\q</code></li>
<li>Generic constant evaluation and simplification framework</li>
<li>Added common subexpression eliminate query plan optimization rule</li>
<li>Python binding 0.4.0 with all Datafusion 6.0.0 features</li>
</ul>
<p>With these new features, we are also now passing TPC-H queries 8, 13 and 21.</p>
<p>For the full list of new features with their relevant PRs, see the
<a href="https://github.com/apache/arrow-datafusion/blob/6.0.0/datafusion/CHANGELOG.md">enhancements section</a>
in the changelog.</p>
<h1><code>async</code> planning and decoupling file format from table layout</h1>
<p>Driven by the need to support Hive style table partitioning, @rdettai
introduced the following design change to the Datafusion core.</p>
<ul>
<li>The code for reading specific file formats (<code>Parquet</code>, <code>Avro</code>, <code>CSV</code>, and
<code>JSON</code>) was separated from the logic that handles grouping sets of
files into execution partitions.</li>
<li>The query planning process was made <code>async</code>.</li>
</ul>
<p>As a result, we are able to replace the old <code>Parquet</code>, <code>CSV</code> and <code>JSON</code> table
providers with a single <code>ListingTable</code> table provider.</p>
<p>This also sets up DataFusion and its plug-in ecosystem to
supporting a wide range of catalogs and various object store implementations.
You can read more about this change in the
<a href="https://docs.google.com/document/d/1Bd4-PLLH-pHj0BquMDsJ6cVr_awnxTuvwNJuWsTHxAQ">design document</a>
and on the <a href="https://github.com/apache/arrow-datafusion/pull/1010">arrow-datafusion#1010 PR</a>.</p>
<h1>How to Get Involved</h1>
<p>If you are interested in contributing to DataFusion, we would love to have you! You
can help by trying out DataFusion on some of your own data and projects and filing bug reports and helping to
improve the documentation, or contribute to the documentation, tests or code. A list of open issues suitable for
beginners is <a href="https://github.com/apache/arrow-datafusion/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22">here</a>
and the full list is <a href="https://github.com/apache/arrow-datafusion/issues">here</a>.</p>
<p>Check out our new <a href="https://arrow.apache.org/datafusion/community/communication.html">Communication Doc</a> on more
ways to engage with the community.</p>
        </div>
      </div>
    </div>    
    <!-- footer -->
    <div class="row">
      <div class="large-12 medium-12 columns">
        <p style="font-style: italic; font-size: 0.8rem; text-align: center;">
          Copyright 2024, <a href="https://www.apache.org/">The Apache Software Foundation</a>, Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.<br/>
          Apache&reg; and the Apache feather logo are trademarks of The Apache Software Foundation.
        </p>
      </div>
    </div>
    <script src="/js/bootstrap.bundle.min.js"></script>  </main>
  </body>
</html>
