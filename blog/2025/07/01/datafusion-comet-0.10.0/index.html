<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apache DataFusion Comet 0.9.0 Release - Apache DataFusion Blog</title>
<link href="/blog/css/bootstrap.min.css" rel="stylesheet">
<link href="/blog/css/fontawesome.all.min.css" rel="stylesheet">
<link href="/blog/css/headerlink.css" rel="stylesheet">
<link href="/blog/highlight/default.min.css" rel="stylesheet">
<link href="/blog/css/app.css" rel="stylesheet">
<script src="/blog/highlight/highlight.js"></script>
<script>hljs.highlightAll();</script>  </head>
  <body class="d-flex flex-column h-100">
  <main class="flex-shrink-0">
<!-- nav bar -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark" aria-label="Fifth navbar example">
    <div class="container-fluid">
        <a class="navbar-brand" href="/blog"><img src="/blog/images/logo_original4x.png" style="height: 32px;"/> Apache DataFusion Blog</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarADP" aria-controls="navbarADP" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarADP">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link" href="/blog/about.html">About</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/blog/feed.xml">RSS</a>
                </li>
            </ul>
        </div>
    </div>
</nav>    
<!-- article contents -->
<div id="contents">
  <div class="bg-white p-4 p-md-5 rounded">
    <div class="row justify-content-center">
      <div class="col-12 col-md-8 main-content">
        <h1>
          Apache DataFusion Comet 0.9.0 Release
        </h1>
        <p>Posted on: Tue 01 July 2025 by pmc</p>


        <!--
{% comment %}
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements.  See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to you under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
{% endcomment %}
-->
<p>The Apache DataFusion PMC is pleased to announce version 0.10.0 of the <a href="https://datafusion.apache.org/comet/">Comet</a> subproject.</p>
<p>Comet is an accelerator for Apache Spark that translates Spark physical plans to DataFusion physical plans for
improved performance and efficiency without requiring any code changes.</p>
<p>This release covers approximately ten weeks of development work and is the result of merging 183 PRs from 26
contributors. See the <a href="https://github.com/apache/datafusion-comet/blob/main/dev/changelog/0.10.0.md">change log</a> for more information.</p>
<h2 id="release-highlights">Release Highlights<a class="headerlink" href="#release-highlights" title="Permanent link">&para;</a></h2>
<h3 id="improved-support-for-apache-iceberg">Improved Support for Apache Iceberg<a class="headerlink" href="#improved-support-for-apache-iceberg" title="Permanent link">&para;</a></h3>
<p>It is now possible to use Comet with Apache Iceberg 1.8.1 to accelerate reads of Iceberg Parquet tables.</p>
<h3 id="improved-spark-400-support">Improved Spark 4.0.0 Support<a class="headerlink" href="#improved-spark-400-support" title="Permanent link">&para;</a></h3>
<p>Comet no longer falls back to Spark for all queries when ANSI mode is enabled (which is the default in Spark 4.0.0). 
Instead, Comet will now only fall back to Spark for arithmetic and aggregates expressions that support ANSI mode.</p>
<p>Setting <code>spark.comet.ansi.ignore=true</code> will override this behavior and force these expressions to continue to be 
accelerated by Comet.</p>
<p>Comet will now use the <code>native_iceberg_compat</code> scan for Spark 4.0.0 in most cases, which supports reading complex types.</p>
<h3 id="new-functionality">New Functionality<a class="headerlink" href="#new-functionality" title="Permanent link">&para;</a></h3>
<ul>
<li>New Scalar Functions</li>
<li><code>array_min</code></li>
<li><code>map_entries</code></li>
<li><code>map_from_array</code></li>
<li><code>randn</code></li>
<li><code>from_unixtime</code></li>
<li>Support for array literals</li>
<li>Support for <code>monotonically_increasing_id</code> and <code>spark_partition_id</code></li>
<li>Support for limit with offset</li>
<li>Support for <code>try_add</code>, <code>try_divide</code>, <code>try_mod</code>, <code>try_multiply</code>, <code>try_subtract</code></li>
</ul>
<h3 id="ux-improvements">UX Improvements<a class="headerlink" href="#ux-improvements" title="Permanent link">&para;</a></h3>
<ul>
<li>Improved reporting of reasons why Comet cannot accelerate some operators and expressions</li>
<li>New config for logging all fallback reasons</li>
<li>CometScan nodes in physical plan now show which scan implementation is being used</li>
</ul>
<h3 id="bug-fixes">Bug Fixes<a class="headerlink" href="#bug-fixes" title="Permanent link">&para;</a></h3>
<ul>
<li>Improved memory safety for FFI transfers</li>
<li>Fixed a double-free issue in the shuffle unified memory pool</li>
<li>Non zero offset FFI issue</li>
<li>HDFS buffer read issue</li>
<li>Benchmarking</li>
</ul>
<p>Benchmarking scripts for benchmarks based on TPC-H and TPS-DS are now available in the repository under <code>dev/benchmarks</code>.</p>
<h3 id="documentation-updates">Documentation Updates<a class="headerlink" href="#documentation-updates" title="Permanent link">&para;</a></h3>
<ul>
<li>Lists of supported operators and expressions is more complete, and Spark-compatibility status per operator/expression is now documented.</li>
<li>New Roadap section</li>
<li>New guide comparing Comet with Apache Gluten (incubating) + Velox</li>
<li>User guides are now available for multiple Comet versions</li>
</ul>
<h3 id="spark-compatibility">Spark Compatibility<a class="headerlink" href="#spark-compatibility" title="Permanent link">&para;</a></h3>
<ul>
<li>Spark 3.4.3 with JDK 11 &amp; 17, Scala 2.12 &amp; 2.13</li>
<li>Spark 3.5.4 through 3.5.6 with JDK 11 &amp; 17, Scala 2.12 &amp; 2.13</li>
<li>Experimental support for Spark 4.0.0 with JDK 17, Scala 2.13</li>
</ul>
<p>We are looking for help from the community to fully support Spark 4.0.0. See <a href="https://github.com/apache/datafusion-comet/issues/1637">EPIC: Support 4.0.0</a> for more information.</p>
<h2 id="getting-involved">Getting Involved<a class="headerlink" href="#getting-involved" title="Permanent link">&para;</a></h2>
<p>The Comet project welcomes new contributors. We use the same <a href="https://datafusion.apache.org/contributor-guide/communication.html#slack-and-discord">Slack and Discord</a> channels as the main DataFusion
project and have a weekly <a href="https://docs.google.com/document/d/1NBpkIAuU7O9h8Br5CbFksDhX-L9TyO9wmGLPMe0Plc8/edit?usp=sharing">DataFusion video call</a>.</p>
<p>The easiest way to get involved is to test Comet with your current Spark jobs and file issues for any bugs or
performance regressions that you find. See the <a href="https://datafusion.apache.org/comet/user-guide/installation.html">Getting Started</a> guide for instructions on downloading and installing
Comet.</p>
<p>There are also many <a href="https://github.com/apache/datafusion-comet/contribute">good first issues</a> waiting for contributions.</p>

<!--
  Comments Section
  Loaded only after explicit visitor consent to comply with ASF policy.
-->

<div id="comments">
  <hr>
  <h3>Comments</h3>

  <!-- Local loader script -->
  <script src="/content/js/giscus-consent.js" defer></script>

  <!-- Consent UI -->
  <div id="giscus-consent">
    <p>
        We use <a href="https://giscus.app/">Giscus</a> for comments, powered by GitHub Discussions.
        To respect your privacy, Giscus and comments will load only if you click "Show Comments"
    </p>

    <div class="consent-actions">
      <button id="giscus-load" type="button">Show Comments</button>
      <button id="giscus-revoke" type="button" hidden>Hide Comments</button>
    </div>

    <noscript>JavaScript is required to load comments from Giscus.</noscript>
  </div>

  <!-- Container where Giscus will render -->
  <div id="comment-thread"></div>
</div>      </div>
    </div>
  </div>
</div>    
    <!-- footer -->
    <div class="row g-0">
      <div class="col-12">
        <p style="font-style: italic; font-size: 0.8rem; text-align: center;">
          Copyright 2025, <a href="https://www.apache.org/">The Apache Software Foundation</a>, Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License, Version 2.0</a>.<br/>
          Apache&reg; and the Apache feather logo are trademarks of The Apache Software Foundation.
        </p>
      </div>
    </div>
    <script src="/blog/js/bootstrap.bundle.min.js"></script>  </main>
  </body>
</html>
