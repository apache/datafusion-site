---
layout: post
title: Apache DataFusion 45.0.0 Released
date: 2025-02-20
author: pmc
categories: [release]
---

<!--
{% comment %}
Licensed to the Apache Software Foundation (ASF) under one or more
contributor license agreements.  See the NOTICE file distributed with
this work for additional information regarding copyright ownership.
The ASF licenses this file to you under the Apache License, Version 2.0
(the "License"); you may not use this file except in compliance with
the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
{% endcomment %}
-->

<!-- see https://github.com/apache/datafusion/issues/11631 for details -->

## Introduction

We are very proud to announce [DataFusion 47.0.0]. 

[DataFusion 47.0.0]: https://datafusion.apache.org/blog/2024/07/24/datafusion-40.0.0/

[Apache DataFusion] is an extensible query engine, written in [Rust], that
uses [Apache Arrow] as its in-memory format. DataFusion is used by developers to
create new, fast data centric systems such as databases, dataframe libraries,
machine learning and streaming applications. While [DataFusionâ€™s primary design
goal] is to accelerate the creation of other data centric systems, it has a
reasonable experience directly out of the box as a [dataframe library],
[python library] and [command line SQL tool].

[apache datafusion]: https://datafusion.apache.org/
[rust]: https://www.rust-lang.org/
[apache arrow]: https://arrow.apache.org
[DataFusionâ€™s primary design goal]: https://datafusion.apache.org/user-guide/introduction.html#project-goals
[dataframe library]: https://datafusion.apache.org/user-guide/dataframe.html
[python library]: https://datafusion.apache.org/python/
[command line SQL tool]: https://datafusion.apache.org/user-guide/cli/

DataFusion's core thesis is that as a community, together we can build much more
advanced technology than any of us as individuals or companies could do alone. 
Without DataFusion, highly performant vectorized query engines would remain
the domain of a few large companies and world-class research institutions. 
With DataFusion, we can all build on top of a shared foundation, and focus on
what makes our projects unique.



<!--
$ git log --pretty=oneline 40.0.0..45.0.0 . | wc -l
     1532 (up from 1453)

$ git shortlog -sn 40.0.0..45.0.0 . | wc -l
     206 (up from 182)

https://crates.io/crates/datafusion/45.0.0
DataFusion 45 released Feb 7, 2025

https://crates.io/crates/datafusion/40.0.0
DataFusion 40 released July 12, 2024

Issues created in this time: 375 open, 751 closed (from 321 open, 781 closed)
https://github.com/apache/datafusion/issues?q=is%3Aissue+created%3A2024-07-12..2025-02-07

Issues closed: 956 (up from 911)
https://github.com/apache/arrow-datafusion/issues?q=is%3Aissue+closed%3A2024-07-12..2025-02-07

PRs merged in this time 1597 (up from 1490)
https://github.com/apache/arrow-datafusion/pulls?q=is%3Apr+merged%3A2024-07-12..2025-02-07

-->

DataFusion has put in an application to be part of [Google Summer of Code] with a 
[number of ideas] for projects with mentors already selected. Additionally, [some ideas] on
how to make DataFusion an ideal selection for university database projects such as the 
[CMU database classes] have been put forward.

[Google Summer of Code]: https://summerofcode.withgoogle.com/
[number of ideas]: https://github.com/apache/datafusion/issues/14478
[some ideas]: https://github.com/apache/datafusion/issues/14373
[CMU database classes]: https://15445.courses.cs.cmu.edu/spring2025/


# What's New in DataFusion 47.0.0

## New Explain PLan

EPIC] Complete SQL EXPLAIN Tree Rendering #14914
https://github.com/apache/datafusion/issues/14914

TODO examples and doc link here

Thanks to XX, YY, XZZ for working on this 

## Context propagation (better support for tracing)
feat: introduce JoinSetTracer trait for tracing context propagation in spawned tasks #14547

Distributed tracing

https://github.com/apache/datafusion/pull/14547

Thanks to gabotechs , etc 

## Improved Performance ðŸš€ 

Improve performance of first_value by implementing special GroupsAccumulator #15266
https://github.com/apache/datafusion/pull/15266


# SPilling to disk

Note here about improvements to spilling such as
Remove waits from blocking threads reading spill files. #15654
https://github.com/apache/datafusion/pull/15654

Avoid casting columns when comparing ints and strings #15035
https://github.com/apache/datafusion/issues/15035

## Improved Quality ðŸ“‹




## Improved Documentation ðŸ“š


## New Features âœ¨
TODO update
There are too many new features in the last 6 months to list them all, but here
are some highlights:

### Functions
* Uniform Window Functions:  `BuiltInWindowFunctions` was removed and all now use UDFs ([@jcsherin])
* Uniform Aggregate Functions: `BuiltInAggregateFunctions` was removed and all now use UDFs
* As mentioned above function documentation was extracted from the markdown files
* Some new functions and sql support were added including '[show functions]', '[to_local_time]',
  '[regexp_count]', '[map_extract]', '[array_distance]', '[array_any_value]', '[greatest]',
  '[least]', '[arrays_overlap]'

### FFI
* Foreign Function Interface work has started. This should allow for 
  [using table providers] across languages and versions of DataFusion. This 
  is especially pertinent for integration with [delta-rs] and other table formats.

[delta-rs]: https://delta-io.github.io/delta-rs/

### Materialized Views
* [@suremarc] has added a [materialized view implementation] in datafusion-contrib ðŸš€

### Substrait
* A lot of work was put into improving and enhancing substrait support ([@Blizzara], [@westonpace], [@tokoko], [@vbarua], [@LatrecheYasser], [@notfilippo] and others)

[show functions]: https://github.com/apache/datafusion/pull/13799
[to_local_time]: https://github.com/apache/datafusion/pull/11347
[regexp_count]: https://github.com/apache/datafusion/pull/12970
[map_extract]: https://github.com/apache/datafusion/pull/11969
[array_distance]: https://github.com/apache/datafusion/pull/12211
[array_any_value]: https://github.com/apache/datafusion/pull/12329
[greatest]: https://github.com/apache/datafusion/pull/12474
[least]: https://github.com/apache/datafusion/pull/13786
[arrays_overlap]: https://github.com/apache/datafusion/pull/14217
[using table providers]: https://github.com/apache/datafusion/pull/12920
[materialized view implementation]: https://github.com/datafusion-contrib/datafusion-materialized-views

## Looking Ahead: The Next Six Months ðŸ”­ 

One of the long term goals of [@alamb], DataFusion's PMC chair, has been to have 
[1000 DataFusion based projects]. This may be the year that happens!

The community has been [discussing what we will work on in the next six months].
Some major initiatives are likely to be:

1. *Performance*: A [number of items have been identified] as areas that could use additional work
2. *Memory usage*: Tracking and improving memory usage, statistics and spilling to disk 
3. *[Google Summer of Code] (GSOC)*: DataFusion is hopefully selected as a project and we start accepting and supporting student projects 
4. *FFI*: Extending the FFI implementation to support to all types of UDF's and SessionContext
5. *Spark Functions*: A [proposal has been made to add a crate] covering spark compatible builtin functions 

[1000 DataFusion based projects]: https://www.influxdata.com/blog/datafusion-2025-influxdb/
[discussing what we will work on in the next six months]: https://github.com/apache/datafusion/issues/14580
[number of items have been identified]: https://github.com/apache/datafusion/issues/14482
[Google Summer of Code]: https://summerofcode.withgoogle.com/
[proposal has been made to add a crate]: https://github.com/apache/datafusion/issues/5600

## How to Get Involved

DataFusion is not a project built or driven by a single person, company, or
foundation. Rather, our community of users and contributors work together to
build a shared technology that none of us could have built alone.

If you are interested in joining us we would love to have you. You can try out
DataFusion on some of your own data and projects and let us know how it goes,
contribute suggestions, documentation, bug reports, or a PR with documentation,
tests or code. A list of open issues suitable for beginners is [here] and you
can find how to reach us on the [communication doc].

[here]: https://github.com/apache/arrow-datafusion/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22
[communication doc]: https://datafusion.apache.org/contributor-guide/communication.html

[@jayzhan211]: https://github.com/jayzhan211
[@jonahgao]: https://github.com/jonahgao
[@2010YOUY01]: https://github.com/2010YOUY01
[@rachelint]: https://github.com/rachelint
[@findpi]: https://github.com/findepi/
[@iffyio]: https://github.com/iffyio
[@goldmedal]: https://github.com/goldmedal
[@Weijun-H]: https://github.com/Weijun-H
[@Michael-J-Ward]: https://github.com/Michael-J-Ward
[@korowa]: https://github.com/korowa
[@Omega359]: https://github.com/Omega359
[@jonathanc-n]: https://github.com/jonathanc-n
[@comphead]: https://github.com/comphead
[@Chen-Yuan-Lai]: https://github.com/Chen-Yuan-Lai
[@alamb]: https://github.com/alamb
[@Blizzara]: https://github.com/Blizzara
[@westonpace]: https://github.com/westonpace
[@tokoko]: https://github.com/tokoko
[@vbarua]: https://github.com/vbarua
[@LatrecheYasser]: https://github.com/LatrecheYasser
[@notfilippo]: https://github.com/notfilippo
[@suremarc]: https://github.com/suremarc
[@XiangpengHong]: https://github.com/XiangpengHong
[@AriesDevil]: https://github.com/AriesDevil
[@PsiACE]: https://github.com/PsiACE
[@a10y]: https://github.com/a10y
[@RinChanNOWWW]: https://github.com/RinChanNOWWW
[@wiedld]: https://github.com/wiedld
[@jcsherin]: https://github.com/jcsherin